(()=>{"use strict";function e(e,t){const n=document.getElementById("output");let o=`<div><span class="prompt">></span><span>${t.command}</span></div>`;o+=e,n.insertAdjacentHTML("beforeend",o)}const t=document.getElementById("terminal"),n=document.getElementById("terminal-container");!function(e,t){let n=0,o=0,l=Number(t.style.left.slice(0,-2)),s=Number(t.style.top.slice(0,-2)),i=!1;e.addEventListener("mousedown",(e=>{i=!0,n=e.clientX,o=e.clientY,l=Number(t.style.left.slice(0,-2)),s=Number(t.style.top.slice(0,-2)),console.log("mouse down")})),document.addEventListener("mouseup",(e=>{i=!1,console.log("mouse up")})),e.addEventListener("mousemove",(e=>{if(i){let i=e.clientX,c=e.clientY;console.log("x y",l,s),t.style.left=l+i-n+"px",t.style.top=s+c-o+"px",console.log("left and top",t.style.left,t.style.top)}}))}(document.getElementById("terminal-header"),n),function(){let e=document.getElementsByTagName("span");for(let t of e)t.addEventListener("mousedown",(e=>{e.stopPropagation()}))}(),chrome.runtime.onMessage.addListener((function(n,o,l){return"ls"==n.action?function(t){let n="";for(let e of t.data)n+=`<p style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;margin: 0px;">${e}</p>`;e(n,t)}(n):"find"==n.action?function(t){let n="";for(let e of t.data)n+=`<p style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">${e}</p>`;e(n,t)}(n):"pwd"==n.action?function(t){e(`<p style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">${t.data}</p>`,t)}(n):"clear"==n.action?function(e){e.querySelector("#output").innerHTML=""}(t):"no-command-found"==n.action?function(t){""==t.command?e("",t):e(`'${t.data}' is not recognized as a command`,t)}(n):e("<br>",n),t.querySelector("#commandInput").value="",t.scrollTo(0,t.scrollHeight),l(),!0}))})();