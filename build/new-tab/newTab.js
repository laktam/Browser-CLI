(()=>{"use strict";const n={cdHelp:"<div>\n    Move to a specific tab (use ls for tab indexes)\n    <br><br>\n    cd [tab index]\n    <br><br>\n    </div>",rmHelp:"<div>\n    close a tab or group tabs\n    <br><br>\n    <div id='help-container'>\n        <div id='help-commands'>\n            <div>-g </div>\n        </div>\n        <div id='help-text'>\n            <div>the name of the group to close</div>\n        </div>\n    </div>\n    <br>\n    Examples\n    <br>\n    rm 15\n    rm -g \"group name\"\n    <br>\n    </div>\n    ",lsHelp:"<div>\n    List open tabs with there index\n    </div>\n    <br><br>\n    ",findHelp:'<div>\n    Search for tabs with given keyword in the tab title or URL\n    Example \n    find "keyword"\n    </div>\n    <br>\n    ',createHelp:"<div>\n    Create a new tab with a given URL or with a google search\n    if the argument dons't start with http or https or www google search is used\n    <br><br>\n    <div id='help-container'>\n    <div id='help-commands'>\n        <div>-a</div>\n        <div>--active</div>\n    </div>\n    <div id='help-text'>\n        <div>move to the tab after creation</div>\n        <div>move to the tab after creation</div>\n    </div>\n    </div>\n    <br>\n    Examples\n    <br>\n    create \"search this on google\"\n    create -a \"http://example.com\"\n    </div>\n    <br>\n    ",groupHelp:"<div>\n    Create a new group or add tabs to a group\n    <br><br>\n    <div id='help-container'>\n    <div id='help-commands'>\n        <div>--new</div>\n        <div>--name</div>\n    </div>\n    <div id='help-text'>\n        <div>create a tab with the given name and tab indexes</div>\n        <div>add tabs to existing group with the given name</div>\n    </div>\n    </div>\n    <br>\n    Examples\n    <br>\n    group --new \"Java\" 1 5 15\n    group --name \"C\" 4 5\n    <br>\n    </div>\n    ",ungroupHelp:"<div>\n    Ungroup a group or specific tabs from a group\n    <br><br>\n    <div id='help-container'>\n    <div id='help-commands'>\n        <div>--tabs</div>\n        <div>--name</div>\n    </div>\n    <div id='help-text'>\n        <div>tab indexes</div>\n        <div>group name</div>\n    </div>    \n    </div>\n    <br>\n    Examples\n    <br>\n    ungroup --tabs 1 5 15\n    ungroup --name \"Java\"\n    <br>\n    </div>\n    ",clearHelp:"<div>\n    Clear terminal\n    <br>\n    </div>\n    "};function e(n,e){const i=document.getElementById("output");let t=`<div><span class="prompt">></span><span>${e.command}</span></div>`;t+=n,i.insertAdjacentHTML("beforeend",t)}const i=document.getElementById("terminal"),t=document.getElementById("terminal-container");!function(n,e){let i=0,t=0,d=Number(e.style.left.slice(0,-2)),o=Number(e.style.top.slice(0,-2)),a=!1;n.addEventListener("mousedown",(n=>{a=!0,i=n.clientX,t=n.clientY,d=Number(e.style.left.slice(0,-2)),o=Number(e.style.top.slice(0,-2)),console.log("mouse down")})),document.addEventListener("mouseup",(n=>{a=!1,console.log("mouse up")})),document.addEventListener("mousemove",(n=>{if(a){let a=n.clientX,r=n.clientY;console.log("x y",d,o),e.style.left=d+a-i+"px",e.style.top=o+r-t+"px",console.log("left and top",e.style.left,e.style.top)}}))}(document.getElementById("terminal-header"),t),function(){let n=document.getElementsByTagName("span");for(let e of n)e.addEventListener("mousedown",(n=>{n.stopPropagation()}))}(),chrome.runtime.onMessage.addListener((function(t,d,o){return"ls"==t.action?function(n){let i="";for(let e of n.data)i+=`<p style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;margin: 0px;">${e}</p>`;e(i,n)}(t):"find"==t.action?function(n){let i="";for(let e of n.data)i+=`<p style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">${e}</p>`;e(i,n)}(t):"pwd"==t.action?function(n){e(`<p style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">${n.data}</p>`,n)}(t):"clear"==t.action?function(n){n.querySelector("#output").innerHTML=""}(i):"help"==t.action?function(i){let{commandObj:t}=i;null==t.arguments?e("<div>\nFor more information on a specific command, type: help [command-name]\n<br><br>\n<div id='help-container'>\n<div id='help-commands'>\n    <div>cd</div>\n    <div>ls</div>\n    <div>create</div>\n    <div>group</div>\n    <div>ungroup</div>\n    <div>rm</div>\n    <div>clear</div>\n    <div>find</div>\n</div>\n\n<div id='help-text'>\n    <div>move to a specific tab (use ls for tab indexes)</div>\n    <div>print open tabs with there index</div>\n    <div>create a new tab with a given url</div>\n    <div>create a new group or add a tab to existing group</div>\n    <div>ungroup a group or remove a tab from a group</div>\n    <div>close a tab or group tabs</div>\n    <div>clear terminal</div>\n    <div>search for tabs with a specific keyword</div>\n</div>\n</div>\n<br><br>\n</div>\n",i):e(n[t.arguments[0]+"Help"],i)}(t):"no-command-found"==t.action?function(n){""==n.command?e("",n):e(`'${n.data}' is not recognized as a command`,n)}(t):e("<br>",t),i.querySelector("#commandInput").value="",i.scrollTo(0,i.scrollHeight),o(),!0}))})();