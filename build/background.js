(()=>{"use strict";async function t(t){const e=function(t){let e=(t=t.replace("s{2,}"," ")).split(" ");const n={command:t=e[0]};if(e.length>1){let t=0;for(;t<e.length;)e[t].startsWith("-")&&t+1<e.length&&(n[e[t]]=e[t+1],t++),t++;const a=e.findLastIndex((t=>t.startsWith("-")))+2;a<e.length&&(n.arguments=e.slice(a))}return console.log("command object",n),n}(t);let n;"ls"==e.command?n=await async function(){let t=await chrome.tabs.query({}),e=[];console.log(t);let n=1;for(let a of t){let t="("+n+") "+a.title+" : "+a.url;a.highlighted&&(t+=" *"),e.push(t),n++}return e}():"cd"==e.command&&(n=await async function(t){let e=await chrome.tabs.query({});chrome.tabs.update(e[Number.parseInt(t.arguments[0])-1].id,{active:!0})}(e)),chrome.runtime.sendMessage({action:e.command,data:n})}chrome.runtime.onMessage.addListener((function(e,n,a){return"command"===e.action&&(console.log(e.command),t(e.command),a()),!0}))})();