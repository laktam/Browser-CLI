(()=>{"use strict";function n(n){chrome.tabs.query({active:!0,currentWindow:!0},(function(e){chrome.tabs.sendMessage(e[0].id,{action:"open-terminal"}),n.push(e[0].id)}))}let e=!1,o=[];chrome.runtime.onMessage.addListener((function(n,e,o){return"getTabsInfo"===n.action?chrome.tabs.query({},(function(n){o(n)})):"command"===n.action&&(console.log(n.command),o()),!0})),chrome.commands.onCommand.addListener((function(t){return"open-terminal"===t&&(e?(e=!1,function(n){for(let e of n)chrome.tabs.sendMessage(e,{action:"close-terminal"})}(o)):(e=!0,n(o))),!0})),chrome.tabs.onActivated.addListener((function(t){return console.log(t),e&&n(o),!0}))})();