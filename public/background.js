(()=>{"use strict";function n(n,e){chrome.tabs.sendMessage(n,{action:e})}let e={};chrome.runtime.onMessage.addListener((function(n,e,o){return"getTabsInfo"===n.action?chrome.tabs.query({},(function(n){o(n)})):"command"===n.action&&(console.log(n.command),o()),!0})),chrome.commands.onCommand.addListener((function(o){return"open-terminal"===o&&async function(){let[n]=await chrome.tabs.query({active:!0,currentWindow:!0});return console.log(n.id),n.id}().then((o=>{console.log("open terminal command,  tabsWithOpenTerminal[id]:",e[o]),null==e[o]||0==e[o]?(e[o]=!0,n(o,"open-terminal")):!0===e[o]&&(e[o]=!1,n(o,"close-terminal"))})),!0}))})();